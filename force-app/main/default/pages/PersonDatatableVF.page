<apex:page label="PersonDatatableVF" name="PersonDatatableVF" standardController="Person__c" recordSetVar="people" extensions="PopupController">
    <apex:form >
        <apex:pageBlock title="All People" id="peoplePb">
            <apex:pageMessages />
            <apex:outputPanel id="tstpopup">
                <apex:outputPanel styleClass="popupBackground" layout="block" rendered="{!isVisible}"/>
                <apex:outputPanel styleClass="custPopup" layout="block" rendered="{!isVisible}">
                        <p style="padding-bottom: 10px;"> Delete person?</p>
                    <apex:commandButton value="Confirm" action="{!confirmPopup}" rerender="peoplePb"/>
                    <apex:commandButton value="Cancel" action="{!closePopup}" rerender="tstpopup"/>
                </apex:outputPanel>
            </apex:outputPanel>
            
            <apex:pageBlockTable value="{! people }" var="p" id="personTable">
                <apex:column headerValue="Name">
                        <apex:outputLink title="{! p.Name }"
                            value="{! URLFOR($Page.PersonDetailsVF, null, [Id=p.Id]) }">
                            {! p.Name }
                        </apex:outputLink>
                </apex:column>
                <apex:column value="{! p.Email__c }"/>
                <apex:column value="{! p.Phone__c }"/>
                <apex:column headerValue="Record Type" value="{! p.RecordType.Name }"/>
                <apex:column width="70px">
                    <apex:outputLink title="Edit"
                            value="{! URLFOR($Page.PersonEditVF, null, [Id=p.Id]) }">
                            Edit
                    </apex:outputLink>
                    &nbsp;
                    <apex:commandButton value="Delete" action="{!showPopup}" rerender="personTable,tstpopup">
                        <apex:param name="currentPers" value="{!p.Id}" assignTo="{!person.Id}"/>
                    </apex:commandButton>
                </apex:column>
            </apex:pageBlockTable>
            <apex:pageBlockButtons location="top">
                <apex:outputLink title="Create Student" styleClass="btn" style="padding: 4px; text-decoration: none;"
                	value="{! URLFOR($Page.PersonCreateVF, null, [Type='Student']) }">
                    Create Student
                </apex:outputLink>
                <apex:outputLink title="Create Tutor" styleClass="btn" style="padding: 4px; text-decoration: none;"
                	value="{! URLFOR($Page.PersonCreateVF, null, [Type='Tutor']) }">
                    Create Tutor
                </apex:outputLink>
            </apex:pageBlockButtons>
    </apex:pageBlock>
    </apex:form>

    
    <style type="text/css">
        .custPopup{
            background-color: white;
            border-width: 2px;
            border-style: solid;
            z-index: 9999;
            left: 50%;
            padding:10px;
            position: absolute;
            /* These are the 3 css properties you will need to change so the popup 
            displays in the center of the screen. First set the width. Then set 
            margin-left to negative half of what the width is. You can add 
            the height property for a fixed size pop up if you want.*/
            width: 500px;
            margin-left: -250px;
            top:100px;
        }
        .popupBackground{
            background-color:black;
            opacity: 0.20;
            filter: alpha(opacity = 20);
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 9998;
        }

    </style>
</apex:page>