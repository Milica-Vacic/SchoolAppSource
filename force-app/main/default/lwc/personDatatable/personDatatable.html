<template>

    <lightning-card
    title="All People">
    <div class="slds-m-around--medium">
        <lightning-button
                label="Create Person"
                onclick={handleCreatePerson}>
        </lightning-button>
    </div>
    <div class="slds-m-around--medium" onselectchange={handleSelectChange}>
        <c-generic-modal is-show-modal={isVisibleTypeModal} title="Record Type Selection" onselectchange={bubbleEvent}>
            <c-select-person-record-type slot="modalBody"></c-select-person-record-type>
            <button slot="modalFooter" class="slds-button slds-button_neutral" onclick={handleRecordTypeSelection}>Confirm</button>
        </c-generic-modal>
    </div>
    <div class="slds-m-around--medium">
        <c-generic-modal title="Record Type Selection" is-show-modal={isVisibleCreateModal}>
            <c-person-create-screen slot="modalBody" record-type-id={selectedRecordType}></c-person-create-screen>
        </c-generic-modal>
    </div>

    <div class="slds-var-m-around_medium">
        <template lwc:if={people.data}>
            <lightning-datatable
                key-field="Id"
                data={people.data}
                columns={columns}
                onrowaction={handleRowAction}
                hide-checkbox-column
            >
            </lightning-datatable>
        </template>
        <template lwc:elseif={people.error}>
            <div class="slds-text-color_error">
                An error occurred while loading all people
            </div>
        </template>
    </div>
</lightning-card>


<!--     <div style="height: 300px;">
        <lightning-datatable
                key-field="id"
                data={people.data}
                columns={columns}
                onrowaction={handleRowAction}>
        </lightning-datatable>
    </div> -->

</template>
